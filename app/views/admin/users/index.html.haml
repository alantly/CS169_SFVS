- body_class "users_view"
= render 'admin/navi_bar'

%div.container-fluid
  %div.row
    %div.span12
      %h1 Admin Page
      %h3 Users List
  %ul
    %li.search_fields
      %div.user_search
        = form_tag search_admin_users_path do
          = label :user_email, :email, 'Search by e-mail'
          = text_field :user_email, 'email', size: 30
          = submit_tag 'Search', :class => "btn btn-default search_btn"
    %li.search_fields
      %div.user_filter
        = form_tag "" do
          = label :app_year, :year, 'Filter Users by year'
          = text_field :app_year, 'year', size: 20
          = submit_tag 'Filter', :class => 'btn btn-default filter_btn'
  %table.table.table-hover
    %thead
      %tr
        %th ID
        %th= link_to "E-mail", admin_users_path(:order => :email)
        %th= link_to "Company Name", admin_users_path(:order => :company_name)
        %th= link_to "Contact Person", admin_users_path(:order => :contact_person)
        %th Telephone Number
        %th Created At
        %th Actions
    %tbody
      - if !@users.nil?
        - @users.each do |user|
          %tr
            %td= user.id
            %td= user.email
            %td= user.company_name
            %td= user.contact_person
            %td= user.telephone
            %td= user.created_at
            %td= link_to "Show", admin_user_path(user), :class => "btn btn-default admin_button"
  - if !@users.nil?
    %div.pagination
      = will_paginate @users, renderer: BootstrapPagination::Rails

  = button_to "Create User", new_admin_user_path, {:class => "btn btn-default", method: :get}
  = button_to "Back", admin_root_path, {:class => "btn btn-default", method: :get}
